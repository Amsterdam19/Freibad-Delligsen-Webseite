{"version":3,"file":"index.umd.js","sources":["../node_modules/@swup/plugin/dist/index.modern.js","../src/index.js"],"sourcesContent":["function r(){return r=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},r.apply(this,arguments)}const n=r=>String(r).split(\".\").map(r=>String(parseInt(r||\"0\",10))).concat([\"0\",\"0\"]).slice(0,3).join(\".\");class e{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(r=>r()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error(\"You must define a name of plugin when creating a class.\")}_afterUnmount(){}_checkRequirements(){return\"object\"!=typeof this.requires||Object.entries(this.requires).forEach(([r,e])=>{if(!function(r,e,t){const s=function(r,n){var e;if(\"swup\"===r)return null!=(e=n.version)?e:\"\";{var t;const e=n.findPlugin(r);return null!=(t=null==e?void 0:e.version)?t:\"\"}}(r,t);return!!s&&((r,e)=>e.every(e=>{const[,t,s]=e.match(/^([\\D]+)?(.*)$/)||[];var o,i;return((r,n)=>{const e={\"\":r=>0===r,\">\":r=>r>0,\">=\":r=>r>=0,\"<\":r=>r<0,\"<=\":r=>r<=0};return(e[n]||e[\"\"])(r)})((i=s,o=n(o=r),i=n(i),o.localeCompare(i,void 0,{numeric:!0})),t||\">=\")}))(s,e)}(r,e=Array.isArray(e)?e:[e],this.swup)){const n=`${r} ${e.join(\", \")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${n}`)}}),!0}on(r,n,e={}){var t;n=!(t=n).name.startsWith(\"bound \")||t.hasOwnProperty(\"prototype\")?n.bind(this):n;const s=this.swup.hooks.on(r,n,e);return this.handlersToUnregister.push(s),s}once(n,e,t={}){return this.on(n,e,r({},t,{once:!0}))}before(n,e,t={}){return this.on(n,e,r({},t,{before:!0}))}replace(n,e,t={}){return this.on(n,e,r({},t,{replace:!0}))}off(r,n){return this.swup.hooks.off(r,n)}}export{e as default};\n//# sourceMappingURL=index.modern.js.map\n","import Plugin from '@swup/plugin';\n\nexport default class SwupDebugPlugin extends Plugin {\n\tname = 'SwupDebugPlugin';\n\n\trequires = { swup: '>=4' };\n\n\tdefaults = {\n\t\tglobalInstance: false\n\t};\n\n\tconstructor(options = {}) {\n\t\tsuper();\n\t\tthis.options = { ...this.defaults, ...options };\n\t}\n\n\tmount() {\n\t\tconst swup = this.swup;\n\n\t\t// set non-empty log method of swup\n\t\tthis.originalSwupLog = swup.log;\n\t\tswup.log = this.log;\n\n\t\t// set swup instance as a global variable swup\n\t\tif (this.options.globalInstance) {\n\t\t\twindow.swup = swup;\n\t\t}\n\n\t\t// check if title tag is present\n\t\tif (!document.getElementsByTagName('title').length) {\n\t\t\tthis.warn(`This page doesn't have a title tag. It is required on every page.`)\n\t\t}\n\n\t\t// make hook calls appear in console\n\t\tthis.originalSwupHookCall = swup.hooks.call.bind(swup.hooks);\n\t\tthis.originalSwupHookCallSync = swup.hooks.callSync.bind(swup.hooks);\n\t\tswup.hooks.call = this.callHook.bind(this);\n\t\tswup.hooks.callSync = this.callHookSync.bind(this);\n\t}\n\n\tunmount() {\n\t\tsuper.unmount();\n\n\t\tthis.swup.log = this.originalSwupLog;\n\t\tthis.swup.hooks.call = this.originalSwupHookCall;\n\t\tthis.swup.hooks.callSync = this.originalSwupHookCallSync;\n\t\tif (this.options.globalInstance) {\n\t\t\twindow.swup = null;\n\t\t}\n\t}\n\n\tlogHook(hook, data) {\n\t\tconsole.groupCollapsed(\n\t\t\t'%cswup:' + '%c' + hook,\n\t\t\t'color: #343434',\n\t\t\t'color: #009ACD'\n\t\t);\n\t\tconsole.log(data);\n\t\tconsole.groupEnd();\n\t}\n\n\tcallHook(hook, data, ...args) {\n\t\tthis.logHook(hook, data);\n\t\treturn this.originalSwupHookCall(hook, data, ...args);\n\t}\n\n\tcallHookSync(hook, data, ...args) {\n\t\tthis.logHook(hook, data);\n\t\treturn this.originalSwupHookCallSync(hook, data, ...args);\n\t}\n\n\tlog(str, object) {\n\t\tif (object) {\n\t\t\tconsole.groupCollapsed(str);\n\t\t\tfor (let key in object) {\n\t\t\t\tconsole.log(object[key]);\n\t\t\t}\n\t\t\tconsole.groupEnd();\n\t\t} else {\n\t\t\tconsole.log(str + '%c', 'color: #009ACD');\n\t\t}\n\t}\n\n\twarn(str) {\n\t\tconsole.warn(`[swup debug plugin] ${str}`);\n\t}\n\n\terror(str) {\n\t\tconsole.error(`[swup debug plugin] ${str}`);\n\t}\n}\n"],"names":["n","r","String","split","map","parseInt","concat","slice","join","e","every","t","s","match","o","i","localeCompare","numeric","Plugin","constructor","options","super","this","name","requires","swup","defaults","globalInstance","mount","originalSwupLog","log","window","document","getElementsByTagName","length","warn","originalSwupHookCall","hooks","call","bind","originalSwupHookCallSync","callSync","callHook","callHookSync","unmount","logHook","hook","data","console","groupCollapsed","groupEnd","arguments","str","object","key","error"],"mappings":"scAGO,MAAsBA,EAAIC,GACzBC,OAAOD,GACZE,MAAM,KACNC,IAAIH,GAAWC,OAAOG,SAASJ,GAAW,IAAK,MAC/CK,OAAO,CAAC,IAAK,MACbC,MAAM,EAAG,GACTC,KAAK,+nBAiCwB,EAACP,EAAmBQ,IAChCA,EAACC,MAAOD,IAC1B,MAASE,CAAAA,EAAYC,GAAWH,EAASI,MAAM,mBAAqB,GA/BxC,IAACC,EAAWC,EAiCxC,MA1BsB,EAACd,EAA0BD,KAClD,MAAiBS,EAAG,CACnB,GAAKR,GAAoB,IAANA,EACnB,IAAMA,GAAcA,EAAI,EACxB,KAAOA,GAAcA,GAAK,EAC1B,IAAMA,GAAcA,EAAI,EACxB,KAAOA,GAAcA,GAAK,GAG3B,OADqBQ,EAAYT,IAAeS,EAAY,KACxCR,EAhBqBc,EAOlB,EAPkBA,EAgCWH,EA/BpDE,EAAId,EAD0Bc,EAgCWb,GA9BzCc,EAAIf,EAAiBe,GACdD,EAAEE,cAAcD,OAAA,EAAc,CAAEE,SAAS,KA8BLN,GAA6B,KAAI,GAJ7C,qiBCxCjB,cAA8BO,EAS5CC,YAAYC,QAAAA,IAAAA,IAAAA,EAAU,IACrBC,QAAQC,KATTC,KAAO,kBAEPC,KAAAA,SAAW,CAAEC,KAAM,OAAOH,KAE1BI,SAAW,CACVC,gBAAgB,GAKhBL,KAAKF,QAAU,IAAKE,KAAKI,YAAaN,EACvC,CAEAQ,QACC,MAAMH,EAAOH,KAAKG,KAGlBH,KAAKO,gBAAkBJ,EAAKK,IAC5BL,EAAKK,IAAMR,KAAKQ,IAGZR,KAAKF,QAAQO,iBAChBI,OAAON,KAAOA,GAIVO,SAASC,qBAAqB,SAASC,QAC3CZ,KAAKa,KAAM,qEAIZb,KAAKc,qBAAuBX,EAAKY,MAAMC,KAAKC,KAAKd,EAAKY,OACtDf,KAAKkB,yBAA2Bf,EAAKY,MAAMI,SAASF,KAAKd,EAAKY,OAC9DZ,EAAKY,MAAMC,KAAOhB,KAAKoB,SAASH,KAAKjB,MACrCG,EAAKY,MAAMI,SAAWnB,KAAKqB,aAAaJ,KAAKjB,KAC9C,CAEAsB,UACCvB,MAAMuB,UAENtB,KAAKG,KAAKK,IAAMR,KAAKO,gBACrBP,KAAKG,KAAKY,MAAMC,KAAOhB,KAAKc,qBAC5Bd,KAAKG,KAAKY,MAAMI,SAAWnB,KAAKkB,yBAC5BlB,KAAKF,QAAQO,iBAChBI,OAAON,KAAO,KAEhB,CAEAoB,QAAQC,EAAMC,GACbC,QAAQC,eACP,YAAmBH,EACnB,iBACA,kBAEDE,QAAQlB,IAAIiB,GACZC,QAAQE,UACT,CAEAR,SAASI,EAAMC,GAEd,OADAzB,KAAKuB,QAAQC,EAAMC,GACRzB,KAACc,qBAAqBU,EAAMC,KAAM,GAAAxC,MAAA+B,KAAAa,UAAO,GACrD,CAEAR,aAAaG,EAAMC,GAElB,OADAzB,KAAKuB,QAAQC,EAAMC,GACRzB,KAACkB,yBAAyBM,EAAMC,KAAM,GAAAxC,MAAA+B,KAAAa,UAAO,GACzD,CAEArB,IAAIsB,EAAKC,GACR,GAAIA,EAAQ,CACXL,QAAQC,eAAeG,GACvB,IAAK,IAAIE,KAAOD,EACfL,QAAQlB,IAAIuB,EAAOC,IAEpBN,QAAQE,UACT,MACCF,QAAQlB,IAAIsB,EAAM,KAAM,iBAE1B,CAEAjB,KAAKiB,GACJJ,QAAQb,KAAM,uBAAsBiB,IACrC,CAEAG,MAAMH,GACLJ,QAAQO,MAAO,uBAAsBH,IACtC"}