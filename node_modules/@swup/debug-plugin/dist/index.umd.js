!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(o||self).SwupDebugPlugin=n()}(this,function(){function o(){return o=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(o[e]=s[e])}return o},o.apply(this,arguments)}const n=o=>String(o).split(".").map(o=>String(parseInt(o||"0",10))).concat(["0","0"]).slice(0,3).join(".");class s{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(o=>o()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"!=typeof this.requires||Object.entries(this.requires).forEach(([o,s])=>{if(!function(o,s,e){const t=function(o,n){var s;if("swup"===o)return null!=(s=n.version)?s:"";{var e;const s=n.findPlugin(o);return null!=(e=null==s?void 0:s.version)?e:""}}(o,e);return!!t&&((o,s)=>s.every(s=>{const[,e,t]=s.match(/^([\D]+)?(.*)$/)||[];var i,r;return((o,n)=>{const s={"":o=>0===o,">":o=>o>0,">=":o=>o>=0,"<":o=>o<0,"<=":o=>o<=0};return(s[n]||s[""])(o)})((r=t,i=n(i=o),r=n(r),i.localeCompare(r,void 0,{numeric:!0})),e||">=")}))(t,s)}(o,s=Array.isArray(s)?s:[s],this.swup)){const n=`${o} ${s.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${n}`)}}),!0}on(o,n,s={}){var e;n=!(e=n).name.startsWith("bound ")||e.hasOwnProperty("prototype")?n.bind(this):n;const t=this.swup.hooks.on(o,n,s);return this.handlersToUnregister.push(t),t}once(n,s,e={}){return this.on(n,s,o({},e,{once:!0}))}before(n,s,e={}){return this.on(n,s,o({},e,{before:!0}))}replace(n,s,e={}){return this.on(n,s,o({},e,{replace:!0}))}off(o,n){return this.swup.hooks.off(o,n)}}return class extends s{constructor(o){void 0===o&&(o={}),super(),this.name="SwupDebugPlugin",this.requires={swup:">=4"},this.defaults={globalInstance:!1},this.options={...this.defaults,...o}}mount(){const o=this.swup;this.originalSwupLog=o.log,o.log=this.log,this.options.globalInstance&&(window.swup=o),document.getElementsByTagName("title").length||this.warn("This page doesn't have a title tag. It is required on every page."),this.originalSwupHookCall=o.hooks.call.bind(o.hooks),this.originalSwupHookCallSync=o.hooks.callSync.bind(o.hooks),o.hooks.call=this.callHook.bind(this),o.hooks.callSync=this.callHookSync.bind(this)}unmount(){super.unmount(),this.swup.log=this.originalSwupLog,this.swup.hooks.call=this.originalSwupHookCall,this.swup.hooks.callSync=this.originalSwupHookCallSync,this.options.globalInstance&&(window.swup=null)}logHook(o,n){console.groupCollapsed("%cswup:%c"+o,"color: #343434","color: #009ACD"),console.log(n),console.groupEnd()}callHook(o,n){return this.logHook(o,n),this.originalSwupHookCall(o,n,...[].slice.call(arguments,2))}callHookSync(o,n){return this.logHook(o,n),this.originalSwupHookCallSync(o,n,...[].slice.call(arguments,2))}log(o,n){if(n){console.groupCollapsed(o);for(let o in n)console.log(n[o]);console.groupEnd()}else console.log(o+"%c","color: #009ACD")}warn(o){console.warn(`[swup debug plugin] ${o}`)}error(o){console.error(`[swup debug plugin] ${o}`)}}});
//# sourceMappingURL=index.umd.js.map
